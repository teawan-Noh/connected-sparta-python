<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Webpage Title -->
    <title>Home | CONNECTED</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- ogíƒœê·¸ & Favicon -->
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <meta property="og:title" content="connected"/>
    <meta property="og:description" content="mini project for Web Plus"/>
    <meta property="og:image" content="{{ url_for('static', filename='ogimg.png') }}"/>
    <!-- Bulma CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
    <!-- Font Awesome CSS -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- ì½”ë“œ ê¸¸ì´ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ì¤‘ë³µë˜ëŠ” css íŒŒì¼ì€ í•©ì³ë³´ì! -->
    <!-- Bulmaì— ëŒ€í•œ cssì´ê¸° ë•Œë¬¸ì— Bulma CSSë³´ë‹¤ ì•„ë˜ì— ìœ„ì¹˜í•´ì•¼í•œë‹¤. -->
    <link href="{{ url_for('static', filename='mystyle.css') }}" rel="stylesheet">
    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <script src="{{ url_for('static', filename='myjs.js') }}"></script>

    <!--    <script>-->
    <!--    $(document).ready(function () {-->
    <!--        get_products()-->
    <!--    })-->
    <!--    </script>-->

<style>
    .box {
        background-color: #569aff;
        margin-top: 50px;
        width: 1200px;
    }
    .subtitle1 {
        margin: 20px auto;
        font-size: 30px;
        font-family: 'Jua', sans-serif;
    }
    .label1 {
        margin: 50px auto 0px;
        font-size: 20px;
        font-family: 'Jua', sans-serif;
    }
    .form-group input{
        width: 1160px;
    }
    .field {
        margin: 30px auto 0px;
    }
    .control {
        display: flex;
    }
    .address {
        margin-right: 10px;
    }
</style>
</head>
<body>
{% include 'mainHeader.html' %}
<div class="columns" style="max-width: 1200px; margin:auto;">
    {% if result == 'guide' %}
        <div class="box">
        <h3 class="subtitle1">ğŸ‘£ ìƒí’ˆ ë“±ë¡í•˜ê¸°</h3>
            <article class="media">
                <div class="media-content">
                    <div class="field">
                        <label class="label1" for="input-title">ì œëª©</label>
                        <p class="control">
                            <input id="input-title" class="input"
                                   placeholder="ì œëª©" value="{{ products.title }}">
                        </p>
                    </div>
                    <div class="field">
                        <label class="label1" for="input-picture">ì‚¬ì§„</label>
                        <div class="control is-expanded">
                            {#                            <div class="file has-name">#}
                            {#                                <label class="file-label" style="width:100%">#}
                            {#                                    <input id="input-picture" class="file-input" type="file" name="resume">#}
                            {#                                    <span class="file-cta">#}
                            {#                                        <span class="file-icon">#}
                            {#                                            <i class="fa fa-upload"></i>#}
                            {#                                        </span>#}
                            {#                                        <span class="file-label">íŒŒì¼ ì„ íƒ</span>#}
                            {#                                    </span>#}
                            {#                                    <span id="file-name" class="file-name" style="width:100%;max-width:100%">{{ products.file }}</span>#}
                            {#                                </label>#}
                            {#                            </div>#}
                            <div id="post-box" class="form-post">
                                <div>
                                    <div class="form-group">
                                        <form id="upload-file">
                                            <input for="post-url" class="input" type="file" name="file"/>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="field">
                        <label class="label1" for="input-content">ë‚´ìš©</label>
                        <p class="control">
                        <textarea id="input-content" class="textarea"
                                  placeholder="ë‚´ìš©">{{ products.content }}</textarea>
                        </p>
                    </div>
                    <div class="field">
                        <label class="label1" for="startpoint_address">ì¶œë°œ ìœ„ì¹˜</label>
                        <p class="control">
                            <input class="button address" type="button" onclick="sample5_execDaumPostcode()" value="ì£¼ì†Œ ê²€ìƒ‰"><br>
                            <input class="input" type="text" id="sample5_address" placeholder="ì£¼ì†Œ">
                        <div id="map" style="width:100%;height:500px;margin-top:10px;display:none"></div>

                        <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
                        <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=03d0eb34b366026c640028dde39ff7e9&libraries=services"></script>
                        <script>
                            let x;
                            let y;
                            var mapContainer = document.getElementById('map'), // ì§€ë„ë¥¼ í‘œì‹œí•  div
                                mapOption = {
                                    center: new daum.maps.LatLng(37.537187, 127.005476), // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
                                    level: 5 // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
                                };

                            //ì§€ë„ë¥¼ ë¯¸ë¦¬ ìƒì„±
                            var map = new daum.maps.Map(mapContainer, mapOption);
                            //ì£¼ì†Œ-ì¢Œí‘œ ë³€í™˜ ê°ì²´ë¥¼ ìƒì„±
                            var geocoder = new daum.maps.services.Geocoder();

                            var marker = new daum.maps.Marker({
                                position: new daum.maps.LatLng(37.537187, 127.005476),
                                map: map
                            });

                            function sample5_execDaumPostcode() {
                                new daum.Postcode({
                                    oncomplete: function (data) {
                                        var addr = data.address; // ìµœì¢… ì£¼ì†Œ ë³€ìˆ˜

                                        // ì£¼ì†Œ ì •ë³´ë¥¼ í•´ë‹¹ í•„ë“œì— ë„£ëŠ”ë‹¤.
                                        document.getElementById("sample5_address").value = addr;
                                        // ì£¼ì†Œë¡œ ìƒì„¸ ì •ë³´ë¥¼ ê²€ìƒ‰
                                        geocoder.addressSearch(data.address, function (results, status) {
                                            // ì •ìƒì ìœ¼ë¡œ ê²€ìƒ‰ì´ ì™„ë£Œëìœ¼ë©´
                                            if (status === daum.maps.services.Status.OK) {

                                                var result = results[0]; //ì²«ë²ˆì§¸ ê²°ê³¼ì˜ ê°’ì„ í™œìš©

                                                // í•´ë‹¹ ì£¼ì†Œì— ëŒ€í•œ ì¢Œí‘œë¥¼ ë°›ì•„ì„œ
                                                var coords = new daum.maps.LatLng(result.y, result.x);
                                                x = coords.La // ê²½ë„
                                                y = coords.Ma // ìœ„ë„
                                                // ì§€ë„ë¥¼ ë³´ì—¬ì¤€ë‹¤.
                                                mapContainer.style.display = "block";
                                                map.relayout();
                                                // ì§€ë„ ì¤‘ì‹¬ì„ ë³€ê²½í•œë‹¤.
                                                map.setCenter(coords);
                                                // ë§ˆì»¤ë¥¼ ê²°ê³¼ê°’ìœ¼ë¡œ ë°›ì€ ìœ„ì¹˜ë¡œ ì˜®ê¸´ë‹¤.
                                                marker.setPosition(coords)
                                                {#alert(coords)#}
                                            }
                                        });
                                    }
                                }).open();
                            }

                        </script>
                        </p>
                    </div>
                    <div class="field">
                        <label class="label1" for="input-calender">ì¼ì •</label>
                        <p class="control">
                            <input id="input-calender" class="input"
                                   placeholder="ì¼ì •" value="{{ products.calender }}">
                        </p>
                    </div>
                    <div class="field">
                        <label class="label1" for="input-price">ê°€ê²©</label>
                        <p class="control">
                            <input id="input-price" class="input"
                                   placeholder="ê°€ê²©" value="{{ products.price }}">
                        </p>
                    </div>
                    <div class="level-right">
                        <div class="level-item">
                            <a class="button is-sparta" onclick="posting(x,y)">ë“±ë¡</a>
                        </div>
                        <div class="level-item">
                            <a class="button is-sparta is-outlined" href="/product">ì·¨ì†Œ</a>
                        </div>
                    </div>
                </div>
            </article>
        </div>
    {% endif %}
</div>
</body>
</html>