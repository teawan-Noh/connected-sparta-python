<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Webpage Title -->
    <title>Tour Product | CONNECTED</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- ogÌÉúÍ∑∏ & Favicon -->
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <meta property="og:title" content="connected"/>
    <meta property="og:description" content="mini project for Web Plus"/>
    <meta property="og:image" content="{{ url_for('static', filename='ogimg.png') }}"/>
    <!-- Bulma CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
    <link href="{{ url_for('static', filename='mystyle.css') }}" rel="stylesheet">
    <!-- Font Awesome CSS -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Righteous&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <script src="{{ url_for('static', filename='myjs.js') }}"></script>

    <script>
    let value = '{{ result }}'
    $(document).ready(function () {
        get_products()
        if (value == 'guide') {
            toggle_guide_product()
        }
    })
    let product_list = [];
    for (let i = 0; i < value.length; i++) {
       product_list.push(value[i])
    }
    function search_product() {
        let oldVal = $("#searchInput").val()
        /* Í≤ÄÏÉâ ÎÇ¥Ïö© Î≥ÄÍ≤Ω Í∞êÏßÄ */
        $("#searchInput").on("propertychange change keyup paste input", function () {
            // Î≥ÄÌôîÏóê Î∞îÎ°úÎ∞îÎ°ú Î∞òÏùëÌïòÎ©¥ Î∂ÄÌïòÍ∞Ä Í±∏Î¶¥ Ïàò ÏûàÏñ¥ÏÑú 1Ï¥à ÎîúÎ†àÏù¥Î•º Ï§ÄÎã§.
            setTimeout(function () {
            // Î≥ÄÍ≤ΩÎêú ÌòÑÏû¨ Î∞ïÏä§ Í∞íÏùÑ Î∞õÏïÑÏò®Îã§.
            let currentVal = $("#searchInput").val()
            if (currentVal == oldVal) {
                return;
            }
            var listArray = `${products}`.toArray();
            // forEachÏùò Ï≤´Î≤àÏß∏ Ïù∏ÏûêÍ∞í = Î∞∞Ïó¥ ÎÇ¥ ÌòÑÏû¨ Í∞í
            // ÎëêÎ≤àÏß∏ Í∞í = index
            // ÏÑ∏Î≤àÏß∏ Í∞í = ÌòÑÏû¨ Î∞∞Ïó¥
            listArray.forEach(function (c, i) {
                var currentList = c;
                // ÌòÑÏû¨ Î∞∞Ïó¥Í∞íÏóêÏÑú ÎÇ¥Ïö© Ï∂îÏ∂ú
                var currentListText = c.innerText;
                // Í≤ÄÏÉâ ÎÇ¥Ïö©ÏùÑ Ìè¨Ìï®ÌïòÏßÄ ÏïäÏùÑ Í≤ΩÏö∞
                if (currentListText.includes(currentVal) == false) {
                    {#currentList.style.display = "none";#}
                    alert("Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§")
                }
                // Í≤ÄÏÉâ ÎÇ¥Ïö©ÏùÑ Ìè¨Ìï®Ìï† Í≤ΩÏö∞
                if (currentListText.includes(currentVal)) {
                    {#currentList.style.display = "block";#}
                    alert("Í≤∞Í≥º")
                }
                // Í≤ÄÏÉâ ÎÇ¥Ïö©Ïù¥ ÏóÜÏùÑ Í≤ΩÏö∞
                if (currentVal.trim() == "") {
                    currentList.style.display = "block";
                }
            });
            }, 1000);
         });
    }

    </script>
    <style>
        .is-grouped {
            margin: 30px auto;
            width: 580px;
        }
        .searchInput {
            width: 520px;
            height: 64px;
            padding-left: 24px;
            color: #202020;
            font-size: 18px;
            border: 0;
            border-radius: 16px;
            box-shadow: 0 8px 16px 0 rgb(32 32 32 / 8%);
        }

        .is-info {
            position: relative;
            width: 64px;
            height: 64px;
            border-radius: 16px;
            background: #569aff;
            -webkit-box-shadow: 0 8px 16px 0 rgb(35 0 104 / 16%);
            box-shadow: 0 8px 16px 0 rgb(35 0 104 / 16%);
        }
        .product_box {
            width: 1200px;
            margin: auto;
        }
        .section_subtitle {
            width: 170px;
            font-family: 'Jua', sans-serif;
            margin: 50px auto 30px;
            display: flex;
            font-size: 30px;
            color: navy;
        }
        .btn-posting {
            margin-top: 60px;
            width: 1200px;
            display: flex;
            flex-direction: row-reverse;
        }
        .card-list {
            margin-top: 10px;
            width: 1200px;
            display: flex;
            flex-wrap: wrap;
            flex-direction: row;
        }
        .card {
            margin: 24px;
        }
    </style>
</head>
<body>
{% include 'mainHeader.html' %}

    <section class="product_box">
        <h3 class="section_subtitle">üñºÔ∏è Ìà¨Ïñ¥ ÏÉÅÌíà</h3>
        {% include 'searchBar.html' %}
        <div id="button-guide" class="level-item is-hidden">
            <div class="btn-posting">
                <a class="button" onclick="go_posting()">Ìà¨Ïñ¥ ÏÉÅÌíà Ïò¨Î¶¨Í∏∞</a>
            </div>
        </div>
        <div id="product-box" class="card-list">
            <div class="card">
            <div class="card-image">
                <figure class="image is-4by3">
                    <img src={{ url_for("static", filename="profile_placeholder.png") }} alt="Image">
                </figure>
            </div>
            <div class="card-content">
                <div class="content">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                    Phasellus nec iaculis mauris. <a>@bulmaio</a>.
                    <a href="#">#css</a> <a href="#">#responsive</a>
                    <br>
                    <time datetime="2016-1-1">11:09 PM - 1 Jan 2016</time>
                </div>
            </div>
        </div>
        </div>
    </section>
</body>
</html>